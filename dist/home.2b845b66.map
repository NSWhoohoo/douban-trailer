{"version":3,"sources":["nav.js","layouts/default.js","views/home/content.js","views/home/index.js"],"names":["name","path","encodeURIComponent","getMenuContent","color","LayoutDefault","props","matchRouteName","match","navRoutes","find","e","params","type","toggleLoading","status","tip","setState","loading","state","window","__LOADING__","children","width","height","fontSize","backgroundColor","marginLeft","marginRight","textAlign","float","map","i","Component","moment","locale","site","Meta","Card","Content","visible","_handleClose","player","pause","_handleCancel","_jumpToDetail","url","open","_showModal","movie","video","videoKey","pic","coverKey","setTimeout","DPlayer","container","document","getElementsByClassName","screenshot","autoplay","thumbnails","currentSrc","switchVideo","play","_renderContent","movies","padding","it","span","marginBottom","meta","createdA","fromNow","rate","posterKey","over","_id","title","summary","Home","_selectItem","key","selectedKey","_getAllMovies","method","year","then","res","catch","length","years","overflowY","maxWidth"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAAe,CACX;AACIA,EAAAA,IAAI,EAAE,IADV;AAEIC,EAAAA,IAAI,EAAE;AAFV,CADW,EAKX;AACID,EAAAA,IAAI,EAAE,IADV;AAEIC,EAAAA,IAAI,kBAAWC,kBAAkB,CAAC,IAAD,CAA7B;AAFR,CALW,EASX;AACIF,EAAAA,IAAI,EAAE,IADV;AAEIC,EAAAA,IAAI,kBAAWC,kBAAkB,CAAC,IAAD,CAA7B;AAFR,CATW,EAaX;AACIF,EAAAA,IAAI,EAAE,IADV;AAEIC,EAAAA,IAAI,kBAAWC,kBAAkB,CAAC,IAAD,CAA7B;AAFR,CAbW,EAiBX;AACIF,EAAAA,IAAI,EAAE,IADV;AAEIC,EAAAA,IAAI,kBAAWC,kBAAkB,CAAC,IAAD,CAA7B;AAFR,CAjBW,EAqBX;AACIF,EAAAA,IAAI,EAAE,IADV;AAEIC,EAAAA,IAAI,kBAAWC,kBAAkB,CAAC,IAAD,CAA7B;AAFR,CArBW,EAyBX;AACIF,EAAAA,IAAI,EAAE,IADV;AAEIC,EAAAA,IAAI,kBAAWC,kBAAkB,CAAC,IAAD,CAA7B;AAFR,CAzBW,EA6BX;AACIF,EAAAA,IAAI,EAAE,IADV;AAEIC,EAAAA,IAAI,kBAAWC,kBAAkB,CAAC,IAAD,CAA7B;AAFR,CA7BW,EAiCX;AACIF,EAAAA,IAAI,EAAE,IADV;AAEIC,EAAAA,IAAI,kBAAWC,kBAAkB,CAAC,IAAD,CAA7B;AAFR,CAjCW,EAqCX;AACIF,EAAAA,IAAI,EAAE,IADV;AAEIC,EAAAA,IAAI,kBAAWC,kBAAkB,CAAC,IAAD,CAA7B;AAFR,CArCW,EAyCX;AACIF,EAAAA,IAAI,EAAE,IADV;AAEIC,EAAAA,IAAI,kBAAWC,kBAAkB,CAAC,IAAD,CAA7B;AAFR,CAzCW,EA6CX;AACIF,EAAAA,IAAI,EAAE,IADV;AAEIC,EAAAA,IAAI,kBAAWC,kBAAkB,CAAC,IAAD,CAA7B;AAFR,CA7CW,EAiDX;AACIF,EAAAA,IAAI,EAAE,IADV;AAEIC,EAAAA,IAAI,kBAAWC,kBAAkB,CAAC,IAAD,CAA7B;AAFR,CAjDW,EAqDX;AACIF,EAAAA,IAAI,EAAE,IADV;AAEIC,EAAAA,IAAI,kBAAWC,kBAAkB,CAAC,IAAD,CAA7B;AAFR,CArDW,EAyDX;AACIF,EAAAA,IAAI,EAAE,IADV;AAEIC,EAAAA,IAAI,kBAAWC,kBAAkB,CAAC,IAAD,CAA7B;AAFR,CAzDW;;;;;;;;;;;;ACAf;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB;AAAA,MAAEF,IAAF,QAAEA,IAAF;AAAA,MAAQD,IAAR,QAAQA,IAAR;AAAA,SACnB;AAAG,IAAA,IAAI,EAAEC,IAAI,GAAGA,IAAH,GAAU,GAAvB;AAA4B,IAAA,KAAK,EAAE;AAACG,MAAAA,KAAK,EAAE;AAAR;AAAnC,KACKJ,IADL,CADmB;AAAA,CAAvB;;IAMqBK;;;;;AACjB,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,uFAAMA,KAAN;AADe,UAgBnBC,cAhBmB,GAgBF,MAAKD,KAAL,CAAWE,KAAX,GACXC,aAAUC,IAAV,CAAe,UAAAC,CAAC;AAAA,aAAIA,CAAC,CAACX,IAAF,IAAU,MAAKM,KAAL,CAAWE,KAAX,CAAiBI,MAAjB,CAAwBC,IAAtC;AAAA,KAAhB,IACIJ,aAAUC,IAAV,CAAe,UAAAC,CAAC;AAAA,aAAIA,CAAC,CAACX,IAAF,IAAU,MAAKM,KAAL,CAAWE,KAAX,CAAiBI,MAAjB,CAAwBC,IAAtC;AAAA,KAAhB,EAA4Db,IADhE,GAEI,IAHO,GAIXS,aAAU,CAAV,EAAaT,IApBA;;AAAA,UAsBnBc,aAtBmB,GAsBH,YAAkC;AAAA,UAAjCC,MAAiC,uEAAxB,KAAwB;AAAA,UAAjBC,GAAiB,uEAAX,MAAW;;AAC9C,YAAKC,QAAL,CAAc;AACVD,QAAAA,GAAG,EAAHA,GADU;AAEVE,QAAAA,OAAO,EAAEH;AAFC,OAAd;AAIH,KA3BkB;;AAEf,UAAKI,KAAL,GAAa;AACTD,MAAAA,OAAO,EAAE,KADA;AAETF,MAAAA,GAAG,EAAE;AAFI,KAAb;AAFe;AAMlB;;;;wCAEmB;AAChBI,MAAAA,MAAM,CAACC,WAAP,GAAqB,KAAKP,aAA1B;AACH;;;2CAEsB;AACnBM,MAAAA,MAAM,CAACC,WAAP,GAAqB,IAArB;AACH;;;6BAeQ;AAAA,UACGC,QADH,GACgB,KAAKhB,KADrB,CACGgB,QADH;AAAA,wBAEoB,KAAKH,KAFzB;AAAA,UAEGD,OAFH,eAEGA,OAFH;AAAA,UAEYF,GAFZ,eAEYA,GAFZ;AAIL,aACI;AAAK,QAAA,SAAS,EAAC,aAAf;AAA6B,QAAA,KAAK,EAAE;AAAEO,UAAAA,KAAK,EAAE,MAAT;AAAiBC,UAAAA,MAAM,EAAE;AAAzB;AAApC,SACE,6BAAC,UAAD;AACE,QAAA,KAAK,EAAE;AAAEC,UAAAA,QAAQ,EAAE,IAAZ;AAAkBC,UAAAA,eAAe,EAAE;AAAnC,SADT;AAEE,QAAA,IAAI,EAAC,YAFP;AAGE,QAAA,mBAAmB,EAAE,CAAC,KAAKnB,cAAN;AAHvB,SAKE,6BAAC,UAAD,CAAM,IAAN;AACE,QAAA,KAAK,EAAE;AACLoB,UAAAA,UAAU,EAAE,EADP;AAELC,UAAAA,WAAW,EAAE,EAFR;AAGLH,UAAAA,QAAQ,EAAE,EAHL;AAILI,UAAAA,SAAS,EAAE,QAJN;AAKLzB,UAAAA,KAAK,EAAE,iBALF;AAML0B,UAAAA,KAAK,EAAE;AANF;AADT,SAUE;AAAG,QAAA,IAAI,EAAE,GAAT;AAAc,QAAA,SAAS,EAAC,uBAAxB;AAAgD,QAAA,KAAK,EAAE;AAAC1B,UAAAA,KAAK,EAAE;AAAR;AAAvD,sDAVF,CALF,EAkBIK,aAAUsB,GAAV,CAAc,UAACpB,CAAD,EAAIqB,CAAJ;AAAA,eACZ,6BAAC,UAAD,CAAM,IAAN;AAAW,UAAA,GAAG,EAAErB,CAAC,CAACX;AAAlB,WACIG,cAAc,4BAAMQ,CAAN,EADlB,CADY;AAAA,OAAd,CAlBJ,CADF,EA0BE,6BAAC,UAAD;AACE,QAAA,QAAQ,EAAEO,OADZ;AAEE,QAAA,gBAAgB,EAAC,mBAFnB;AAGE,QAAA,GAAG,EAAEF;AAHP,SAKGM,QALH,CA1BF,CADJ;AAoCH;;;;EAtEsCW;;;;;;;;;;;ACX3C;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;AAEAC,gBAAOC,MAAP,CAAc,OAAd;;AAEA,IAAMC,IAAI,GAAG,mCAAb;AACA,IAAMC,IAAI,GAAGC,WAAKD,IAAlB;;IAEqBE;;;;;;;;;;;;;;;;;;uMAEjBpB,QAAQ;AAAEqB,MAAAA,OAAO,EAAE;AAAX,aAERC,eAAe,UAAC9B,CAAD,EAAO;AAClB,UAAI,MAAK+B,MAAL,IAAe,MAAKA,MAAL,CAAYC,KAA/B,EAAsC;AAClC,cAAKD,MAAL,CAAYC,KAAZ;AACH;AACJ,aAEDC,gBAAgB,UAACjC,CAAD,EAAO;AACnB,YAAKM,QAAL,CAAc;AACVuB,QAAAA,OAAO,EAAE;AADC,OAAd;AAGH,aAEDK,gBAAgB,YAAM;AAAA,UACVC,GADU,GACF,MAAKxC,KADH,CACVwC,GADU;AAGlBA,MAAAA,GAAG,IAAI1B,MAAM,CAAC2B,IAAP,CAAYD,GAAZ,CAAP;AACH,aAEDE,aAAa,UAACC,KAAD,EAAW;AACpB,YAAKhC,QAAL,CAAc;AACVuB,QAAAA,OAAO,EAAE;AADC,OAAd;;AAIA,UAAMU,KAAK,GAAGd,IAAI,GAAGa,KAAK,CAACE,QAA3B;AACA,UAAMC,GAAG,GAAGhB,IAAI,GAAGa,KAAK,CAACI,QAAzB;;AAEA,UAAI,CAAC,MAAKX,MAAV,EAAkB;AACdY,QAAAA,UAAU,CAAC,YAAM;AACf,gBAAKZ,MAAL,GAAc,IAAIa,OAAJ,CAAY;AACxBC,YAAAA,SAAS,EAAEC,QAAQ,CAACC,sBAAT,CAAgC,YAAhC,EAA8C,CAA9C,CADa;AAExBC,YAAAA,UAAU,EAAE,IAFY;AAGxBC,YAAAA,QAAQ,EAAE,IAHc;AAIxBV,YAAAA,KAAK,EAAE;AACLJ,cAAAA,GAAG,EAAEI,KADA;AAELE,cAAAA,GAAG,EAAEA,GAFA;AAGLS,cAAAA,UAAU,EAAET;AAHP;AAJiB,WAAZ,CAAd;AAUD,SAXS,EAWP,GAXO,CAAV;AAYD,OAbH,MAaS;AACL,YAAI,MAAKV,MAAL,CAAYQ,KAAZ,CAAkBY,UAAlB,KAAiCZ,KAArC,EAA4C;AAC1C,gBAAKR,MAAL,CAAYqB,WAAZ,CAAwB;AACtBjB,YAAAA,GAAG,EAAEI,KADiB;AAEtBU,YAAAA,QAAQ,EAAE,IAFY;AAGtBR,YAAAA,GAAG,EAAEA,GAHiB;AAItBvC,YAAAA,IAAI,EAAE;AAJgB,WAAxB;AAMD;;AAED,cAAK6B,MAAL,CAAYsB,IAAZ;AACD;AACN,aAEDC,iBAAiB,YAAM;AAAA,UACXC,MADW,GACA,MAAK5D,KADL,CACX4D,MADW;AAGnB,aACI;AAAK,QAAA,KAAK,EAAE;AAACC,UAAAA,OAAO,EAAE;AAAV;AAAZ,SACI,6BAAC,SAAD,QAEID,MAAM,CAACnC,GAAP,CAAW,UAACqC,EAAD,EAAKpC,CAAL;AAAA,eACP,6BAAC,SAAD;AACI,UAAA,GAAG,EAAEA,CADT;AAEI,UAAA,EAAE,EAAE;AAACqC,YAAAA,IAAI,EAAE;AAAP,WAFR;AAGI,UAAA,EAAE,EAAE;AAACA,YAAAA,IAAI,EAAE;AAAP,WAHR;AAII,UAAA,EAAE,EAAE;AAACA,YAAAA,IAAI,EAAE;AAAP,WAJR;AAKI,UAAA,EAAE,EAAE;AAACA,YAAAA,IAAI,EAAE;AAAP,WALR;AAMI,UAAA,KAAK,EAAE;AAACC,YAAAA,YAAY,EAAE;AAAf;AANX,WAQI,6BAAC,UAAD;AACI,UAAA,QAAQ,EAAE,KADd;AAEI,UAAA,SAAS,MAFb;AAGI,UAAA,KAAK,EAAE;AAAE/C,YAAAA,KAAK,EAAE;AAAT,WAHX;AAII,UAAA,OAAO,EAAG,CACN,6BAAC,WAAD,QACI,6BAAC,UAAD;AAAM,YAAA,KAAK,EAAE;AAACK,cAAAA,WAAW,EAAE;AAAd,aAAb;AAAmC,YAAA,IAAI,EAAC;AAAxC,YADJ,EAEK,qBAAOwC,EAAE,CAACG,IAAH,CAAQC,QAAf,EAAyBC,OAAzB,CAAiC,IAAjC,CAFL,uBADM,EAMN,6BAAC,WAAD,QACI,6BAAC,UAAD;AAAM,YAAA,KAAK,EAAE;AAAC7C,cAAAA,WAAW,EAAE;AAAd,aAAb;AAAmC,YAAA,IAAI,EAAC;AAAxC,YADJ,EAEKwC,EAAE,CAACM,IAFR,+BANM,CAJd;AAgBI,UAAA,KAAK,EAAE;AAAK,YAAA,OAAO,EAAE;AAAA,qBAAM,MAAK1B,UAAL,CAAgBoB,EAAhB,CAAN;AAAA,aAAd;AAAyC,YAAA,GAAG,EAAEhC,IAAI,GAAGgC,EAAE,CAACO,SAAV,GAAsB;AAApE;AAhBX,WAkBA,6BAAC,IAAD;AACI,UAAA,KAAK,EAAE;AAACnD,YAAAA,MAAM,EAAE,OAAT;AAAkBoD,YAAAA,IAAI,EAAE;AAAxB,WADX;AAEI,UAAA,KAAK,EAAE,6BAAC,oBAAD;AAAM,YAAA,EAAE,oBAAaR,EAAE,CAACS,GAAhB;AAAR,aAAgCT,EAAE,CAACU,KAAnC,CAFX;AAGI,UAAA,WAAW,EAAE,6BAAC,oBAAD;AAAM,YAAA,EAAE,oBAAaV,EAAE,CAACS,GAAhB;AAAR,aAAgCT,EAAE,CAACW,OAAnC;AAHjB,UAlBA,CARJ,CADO;AAAA,OAAX,CAFJ,CADJ,EAwCI,6BAAC,WAAD;AACI,QAAA,SAAS,EAAC,YADd;AAEI,QAAA,MAAM,EAAE,IAFZ;AAGI,QAAA,OAAO,EAAE,MAAK5D,KAAL,CAAWqB,OAHxB;AAII,QAAA,UAAU,EAAE,MAAKC,YAJrB;AAKI,QAAA,QAAQ,EAAE,MAAKG;AALnB,SAOI,6BAAC,UAAD;AAAM,QAAA,IAAI,EAAC;AAAX,QAPJ,CAxCJ,CADJ;AAoDH;;;;;6BAEQ;AACL,aACI;AAAK,QAAA,KAAK,EAAE;AAACuB,UAAAA,OAAO,EAAE;AAAV;AAAZ,SACK,KAAKF,cAAL,EADL,CADJ;AAKH;;;;EAxHgChC;;;;;;;;;;;ACXrC;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;IAEqB+C;;;;;AACjB,gBAAY1E,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8EAAMA,KAAN;;AADe,UAenB2E,WAfmB,GAeL,gBAAa;AAAA,UAAVC,GAAU,QAAVA,GAAU;;AACvB,YAAKjE,QAAL,CAAc;AACVkE,QAAAA,WAAW,EAAED;AADH,OAAd;AAGH,KAnBkB;;AAAA,UAqBnBE,aArBmB,GAqBH,YAAM;AAClB,4BAAQhE,MAAM,CAACC,WAAf,EAA4B;AAC1BgE,QAAAA,MAAM,EAAE,KADkB;AAE1BvC,QAAAA,GAAG,gCAAyB,MAAK3B,KAAL,CAAWN,IAAX,IAAmB,EAA5C,mBAAuD,MAAKM,KAAL,CAAWmE,IAAX,IAAmB,EAA1E;AAFuB,OAA5B,EAGGC,IAHH,CAGQ,UAAAC,GAAG,EAAI;AACb,cAAKvE,QAAL,CAAc;AACZiD,UAAAA,MAAM,EAAEsB;AADI,SAAd;AAGD,OAPD,EAOGC,KAPH,CAOS,YAAM;AACb,cAAKxE,QAAL,CAAc;AACZiD,UAAAA,MAAM,EAAE;AADI,SAAd;AAGD,OAXD;AAYD,KAlCgB;;AAAA,UAoCnBD,cApCmB,GAoCF,YAAM;AAAA,UACXC,MADW,GACA,MAAK/C,KADL,CACX+C,MADW;AAGnB,UAAI,CAACA,MAAD,IAAW,CAACA,MAAM,CAACwB,MAAvB,EAA+B,OAAO,IAAP;AAE/B,aACI,6BAAC,gBAAD;AAAS,QAAA,MAAM,EAAExB;AAAjB,QADJ;AAGH,KA5CkB;;AAGf,UAAK/C,KAAL,GAAa;AACTwE,MAAAA,KAAK,EAAE,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,EAAwB,MAAxB,EAA+B,MAA/B,EAAsC,MAAtC,EAA6C,MAA7C,EAAoD,MAApD,CADE;AAET9E,MAAAA,IAAI,EAAE,MAAKP,KAAL,CAAWE,KAAX,CAAiBI,MAAjB,CAAwBC,IAFrB;AAGTyE,MAAAA,IAAI,EAAE,MAAKhF,KAAL,CAAWE,KAAX,CAAiBI,MAAjB,CAAwB0E,IAHrB;AAITpB,MAAAA,MAAM,EAAE;AAJC,KAAb;AAHe;AASlB;;;;wCAEmB;AAChB,WAAKkB,aAAL;AACH;;;6BAiCQ;AAAA,wBACwB,KAAKjE,KAD7B;AAAA,UACEwE,KADF,eACEA,KADF;AAAA,UACSR,WADT,eACSA,WADT;AAEL,aACI,6BAAC,gBAAD,EAAY,KAAK7E,KAAjB,EACI;AAAK,QAAA,SAAS,EAAC;AAAf,SACI,6BAAC,UAAD;AAAM,QAAA,mBAAmB,EAAE,CAAC6E,WAAD,CAA3B;AAA0C,QAAA,IAAI,EAAC,QAA/C;AACA,QAAA,KAAK,EAAE;AAAE3D,UAAAA,MAAM,EAAE,MAAV;AAAkBoE,UAAAA,SAAS,EAAE,QAA7B;AAAuCC,UAAAA,QAAQ,EAAE;AAAjD,SADP;AAEA,QAAA,QAAQ,EAAE,KAAKZ,WAFf;AAGA,QAAA,SAAS,EAAC;AAHV,SAMQU,KAAK,IAAIA,KAAK,CAAC5D,GAAN,CAAU,UAACpB,CAAD,EAAIqB,CAAJ,EAAU;AACzB,qCAAC,UAAD,CAAM,IAAN;AAAW,UAAA,GAAG,EAAEA;AAAhB,WACI;AAAG,UAAA,IAAI,kBAAWrB,CAAX;AAAP,WAAwBA,CAAxB,wBADJ;AAGH,OAJQ,CANjB,CADJ,EAcI;AAAK,QAAA,SAAS,EAAC;AAAf,SACK,KAAKsD,cAAL,EADL,CAdJ,CADJ,CADJ;AAsBH;;;;EAvE6BhC","file":"home.2b845b66.map","sourceRoot":"../src","sourcesContent":["export default [\n    {\n        name: '全部',\n        path: '/'\n    },\n    {\n        name: '科幻',\n        path: `/list/${encodeURIComponent('科幻')}`,\n    },\n    {\n        name: '惊悚',\n        path: `/list/${encodeURIComponent('惊悚')}`,\n    },\n    {\n        name: '冒险',\n        path: `/list/${encodeURIComponent('冒险')}`,\n    },\n    {\n        name: '奇幻',\n        path: `/list/${encodeURIComponent('奇幻')}`,\n    },\n    {\n        name: '悬疑',\n        path: `/list/${encodeURIComponent('悬疑')}`,\n    },\n    {\n        name: '剧情',\n        path: `/list/${encodeURIComponent('剧情')}`,\n    },\n    {\n        name: '犯罪',\n        path: `/list/${encodeURIComponent('犯罪')}`,\n    },\n    {\n        name: '灾难',\n        path: `/list/${encodeURIComponent('灾难')}`,\n    },\n    {\n        name: '恐怖',\n        path: `/list/${encodeURIComponent('恐怖')}`,\n    },\n    {\n        name: '战争',\n        path: `/list/${encodeURIComponent('战争')}`,\n    },\n    {\n        name: '喜剧',\n        path: `/list/${encodeURIComponent('喜剧')}`,\n    },\n    {\n        name: '音乐',\n        path: `/list/${encodeURIComponent('音乐')}`,\n    },\n    {\n        name: '文艺',\n        path: `/list/${encodeURIComponent('文艺')}`,\n    },\n    {\n        name: '励志',\n        path: `/list/${encodeURIComponent('励志')}`,\n    }\n]","import React, { Component } from 'react'\nimport { Menu, Spin } from 'antd'\nimport { Link } from 'react-router-dom'\nimport navRoutes from '../nav'\n\nconst getMenuContent = ({path, name}) => (\n    <a href={path ? path : '/'} style={{color: '#fff2e8'}}>\n        {name}\n    </a>\n)\n\nexport default class LayoutDefault extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            loading: false,\n            tip: '在等一下'\n        }\n    }\n\n    componentDidMount() {\n        window.__LOADING__ = this.toggleLoading\n    }\n\n    componentWillUnmount() {\n        window.__LOADING__ = null\n    }\n\n    matchRouteName = this.props.match\n        ? navRoutes.find(e => e.name == this.props.match.params.type)\n            ? navRoutes.find(e => e.name == this.props.match.params.type).name\n            : '全部'\n        : navRoutes[0].name\n\n    toggleLoading = (status = false, tip = '在等一下') => {\n        this.setState({\n            tip,\n            loading: status\n        })\n    }\n\n    render() {\n        const { children } = this.props\n        const { loading, tip } = this.state\n\n        return (\n            <div className='flex-column' style={{ width: '100%', height: '100%' }}>\n              <Menu\n                style={{ fontSize: 13.5, backgroundColor: '#000' }}\n                mode='horizontal'\n                defaultSelectedKeys={[this.matchRouteName]}\n              >\n                <Menu.Item\n                  style={{\n                    marginLeft: 24,\n                    marginRight: 30,\n                    fontSize: 18,\n                    textAlign: 'center',\n                    color: '#fff !important',\n                    float: 'left'\n                  }}\n                >\n                  <a href={'/'} className='hover-scale logo-text' style={{color: '#fff2e8'}}>黑骑预告片网站</a>\n                </Menu.Item>\n                {\n                  navRoutes.map((e, i) => (\n                    <Menu.Item key={e.name}>\n                      { getMenuContent({ ...e }) }\n                    </Menu.Item>\n                  ))\n                }\n              </Menu>\n              <Spin\n                spinning={loading}\n                wrapperClassName='content-spin full'\n                tip={tip}\n              >\n                {children}\n              </Spin>\n            </div>\n          )\n    }\n}","import React, { Component } from 'react'\nimport { Card, Badge, Row, Col, Icon, Modal, Spin } from 'antd'\nimport moment from 'moment'\nimport 'moment/locale/zh-cn'\nimport { Link } from 'react-router-dom'\n\nmoment.locale('zh-cn')\n\nconst site = 'http://pnlbsdu7j.bkt.clouddn.com/'\nconst Meta = Card.Meta\n\nexport default class Content extends Component {\n\n    state = { visible: false }\n\n    _handleClose = (e) => {\n        if (this.player && this.player.pause) {\n            this.player.pause()\n        }\n    }\n\n    _handleCancel = (e) => {\n        this.setState({\n            visible: false\n        })\n    }\n\n    _jumpToDetail = () => {\n        const { url } = this.props\n\n        url && window.open(url)\n    }\n\n    _showModal = (movie) => {\n        this.setState({\n            visible: true\n        })\n\n        const video = site + movie.videoKey\n        const pic = site + movie.coverKey\n\n        if (!this.player) {\n            setTimeout(() => {\n              this.player = new DPlayer({\n                container: document.getElementsByClassName('videoModal')[0],\n                screenshot: true,\n                autoplay: true,\n                video: {\n                  url: video,\n                  pic: pic,\n                  thumbnails: pic\n                }\n              })\n            }, 500)\n          } else {\n            if (this.player.video.currentSrc !== video) {\n              this.player.switchVideo({\n                url: video,\n                autoplay: true,\n                pic: pic,\n                type: 'auto'\n              })\n            }\n      \n            this.player.play()\n          }\n    }\n\n    _renderContent = () => {\n        const { movies } = this.props\n\n        return (\n            <div style={{padding: '30px'}}>\n                <Row>\n                    {\n                    movies.map((it, i) => (\n                        <Col\n                            key={i}\n                            xl={{span: 6}}\n                            lg={{span: 8}}\n                            md={{span: 12}}\n                            sm={{span: 24}}\n                            style={{marginBottom: '8px'}}\n                        >\n                            <Card\n                                bordered={false}\n                                hoverable\n                                style={{ width: '100%'}}\n                                actions= {[\n                                    <Badge>\n                                        <Icon style={{marginRight: '2px'}} type='clock-circle' />\n                                        {moment(it.meta.createdA).fromNow(true)}\n                                        前更新\n                                    </Badge>,\n                                    <Badge>\n                                        <Icon style={{marginRight: '2px'}} type='star' />\n                                        {it.rate} 分\n                                        前更新\n                                    </Badge>\n                                ]}\n                                cover={<img onClick={() => this._showModal(it)} src={site + it.posterKey + '?imageMongr2/thumbnail/x1680/crop/1080*1600'} />}\n                            >\n                            <Meta \n                                style={{height: '202px', over: 'hidden'}}\n                                title={<Link to={`/detail/${it._id}`}>{it.title}</Link>}\n                                description={<Link to={`/detail/${it._id}`}>{it.summary}</Link>}\n                            />\n                            </Card>\n                        </Col>\n                    ))\n                    }\n                </Row>\n                <Modal\n                    className='videoModal'\n                    footer={null}\n                    visible={this.state.visible}\n                    afterClose={this._handleClose}\n                    onCancel={this._handleCancel}\n                >\n                    <Spin size='large' />\n                </Modal>\n            </div>\n        )\n    }\n\n    render() {\n        return (\n            <div style={{padding: 10}}>\n                {this._renderContent()}\n            </div>\n        )\n    }\n}","import React, { Component } from 'react'\nimport Layout from '../../layouts/default'\nimport { Menu } from 'antd'\nimport request from '../../lib/request'\nimport Content from './content'\n\nexport default class Home extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            years: ['2025', '2024', '2023','2022','2021','2020','2019','2018'],\n            type: this.props.match.params.type,\n            year: this.props.match.params.year,\n            movies: []\n        }\n    }\n\n    componentDidMount() {\n        this._getAllMovies()\n    }\n\n    _selectItem = ({ key }) => {\n        this.setState({\n            selectedKey: key\n        })\n    }\n\n    _getAllMovies = () => {\n        request(window.__LOADING__)({\n          method: 'get',\n          url: `/api/v0/movies?type=${this.state.type || ''}&year=${this.state.year || ''}`\n        }).then(res => {\n          this.setState({\n            movies: res\n          })\n        }).catch(() => {\n          this.setState({\n            movies: []\n          })\n        })\n      }\n\n    _renderContent = () => {\n        const { movies } = this.state\n\n        if (!movies || !movies.length) return null\n\n        return (\n            <Content movies={movies} />\n        )\n    }\n\n    render() {\n        const {years, selectedKey} = this.state\n        return (\n            <Layout {...this.props}>\n                <div className='flex-row full'>\n                    <Menu defaultSelectedKeys={[selectedKey]} mode='inline'\n                    style={{ height: '100%', overflowY: 'scroll', maxWidth: 230}}\n                    onSelect={this._selectItem}\n                    className='align-self-start'\n                    >\n                        {\n                            years && years.map((e, i) => {\n                                <Menu.Item key={i}>\n                                    <a href={`/year/${e}`}>{e} 年上映</a>\n                                </Menu.Item>\n                            })\n                        }\n                    </Menu>\n                    <div className='flex-1 scroll-y align-self-start'>\n                        {this._renderContent()}\n                    </div>\n                </div>\n            </Layout>\n        )\n    }\n}"]}